<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="bbf07577-c353-4489-8a26-9d40777d2014" activeEnvironment="Default environment" name="REST Project 3" resourceRoot="" soapui-version="6.0.0" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="581401e5-caa7-4679-a2f9-def49540955f" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://geoip.elib.ru" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://geoip.elib.ru</con:endpoint></con:endpoints><con:resource name="Getdata_mini.pl" path="/cgi-bin/getdata_mini.pl" id="00a61429-f55b-4321-b642-5a8ce270d365"><con:settings/><con:parameters><con:parameter><con:name>ip</con:name><con:value>&lt;IpAddress></con:value><con:style>QUERY</con:style><con:default>&lt;IpAddress></con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Getdata_mini.pl" id="837082d0-16e4-4362-be97-bbb9d89f0b2d" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=iso-8859-1</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="a95ee45d-3d38-4ea1-bd53-0c8a28858749" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl%3CIpAddress%3E</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="ip" value="&lt;252.105.59>" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ip</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="97dd512e-2713-43c1-9c01-c53b7b636167" name="TestSuite 1"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="39e090ca-2dc4-478d-9a70-3bee62c289b9" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="response ok" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Groovy Script 1" id="b8ebf655-afe6-4df9-b25c-de5cace19b7d"><con:settings/><con:config><script>def results = testRunner.getResults();</script></con:config></con:testStep><con:testStep type="restrequest" name="check status code" id="1a635448-2623-4f76-9795-352a745fab39"><con:settings/><con:config service="http://geoip.elib.ru" resourcePath="/cgi-bin/getdata_mini.pl" methodName="Getdata_mini.pl" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="check status code" id="a95ee45d-3d38-4ea1-bd53-0c8a28858749" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl%3CIpAddress%3E</con:originalUri><con:assertion type="GroovyScriptAssertion" id="907e4d5d-5179-4fb3-8132-b6d8379404c0" name="Script Assertion"><con:configuration><scriptText>def response = context.expand( '${check status code#Response}' )
log.info(response)
if (response == '200') {
	log.info('Success')
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="ip" value="&lt;213.252.105.59>" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ip</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="87e5384b-5672-4e7e-81a2-249b816cf7df" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="compare cities" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="city 1" id="8e1a3eae-1031-408c-a468-40558084b401"><con:settings/><con:config service="http://geoip.elib.ru" methodName="Getdata_mini.pl" resourcePath="/cgi-bin/getdata_mini.pl" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="REST Request" id="0ed75b80-91e0-4f76-8813-a254dd76a619" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl</con:originalUri><con:assertion type="GroovyScriptAssertion" id="e75d3eb6-0b27-4988-8930-5ab8b60c6b0d" name="Script Assertion"><con:configuration><scriptText>import com.eviware.soapui.support.XmlHolder

def holder = new XmlHolder( messageExchange.responseContentAsXml )
def node = holder.getDomNode( "//data[1]" )

assert node != null

assert holder.getNodeValue("//data[1]").contains("Москва")
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="ip" value="&lt;213.252.105.46>" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="city 2" id="9719c8fd-b5de-4063-b8c6-5f0a0247ac25"><con:settings/><con:config service="http://geoip.elib.ru" resourcePath="/cgi-bin/getdata_mini.pl" methodName="Getdata_mini.pl" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="city 2" id="a95ee45d-3d38-4ea1-bd53-0c8a28858749" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl%3CIpAddress%3E</con:originalUri><con:assertion type="GroovyScriptAssertion" id="838c4647-a9d1-4758-8868-214bff1eb60b" name="Assert node [data]"><con:configuration><scriptText>import com.eviware.soapui.support.XmlHolder

def holder = new XmlHolder( messageExchange.responseContentAsXml )
def node = holder.getDomNode( "//data[1]" )

assert node != null

assert holder.getNodeValue("//data[1]").contains("Москва")
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="ip" value="&lt;213.252.105.59>" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ip</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="bb8a0665-7906-4646-b31b-2c10f1d8f0f6"><con:settings/><con:config><script>def project = testRunner.testCase.</script></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="18d7c51c-2ecf-4721-8cef-761673c61de8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="check errors" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="error 10" id="6b9b5581-0bfa-4a15-9b83-c5c2a37763cd"><con:settings/><con:config service="http://geoip.elib.ru" methodName="Getdata_mini.pl" resourcePath="/cgi-bin/getdata_mini.pl" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="error 10" id="76b5c5d3-9c8b-4307-b8a8-a677ae52a59c" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl</con:originalUri><con:assertion type="GroovyScriptAssertion" id="94be2ce7-5d96-4cd2-af10-850ef22ab542" name="Assert node [data]"><con:configuration><scriptText>def response = context.expand( '${error 10#Response}' )
log.info(response)
if (response.contains('E10')) {
	log.info('Success')
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="ip" value="&lt;213.252.105>" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="error 205" id="0afb10dc-6e18-4e38-9991-bd40b508ef2f"><con:settings/><con:config service="http://geoip.elib.ru" resourcePath="/cgi-bin/getdata_mini.pl" methodName="Getdata_mini.pl" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="error 205" id="a95ee45d-3d38-4ea1-bd53-0c8a28858749" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl%3CIpAddress%3E</con:originalUri><con:assertion type="GroovyScriptAssertion" id="9afd8660-8ffc-45c8-8be0-269035b59e48" name="Script Assertion"><con:configuration><scriptText>def response = context.expand( '${error 205#Response}' )
log.info(response)
if (response.contains('E205')) {
	log.info('Success')
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="ip" value="&lt;127.0.0.1>" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ip</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="90114d81-f943-42ab-a86d-ccc5efe1c2bb" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="check response encoding" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="gzip" id="53f2f3b7-95f1-4e41-bcd8-6751f5eba98f"><con:settings/><con:config service="http://geoip.elib.ru" resourcePath="/cgi-bin/getdata_mini.pl" methodName="Getdata_mini.pl" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="gzip" id="a95ee45d-3d38-4ea1-bd53-0c8a28858749" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://geoip.elib.ru</con:endpoint><con:request/><con:originalUri>http://geoip.elib.ru/cgi-bin/getdata_mini.pl%3CIpAddress%3E</con:originalUri><con:assertion type="GroovyScriptAssertion" id="4da8f703-e9ae-4b7b-9ca8-1965449f6e64" name="Script Assertion"><con:configuration><scriptText>assert messageExchange.getResponse().getResponseHeaders().containsValue("gzip")</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="ip" value="&lt;213.252.105.46>" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>ip</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:properties/><con:reportParameters/></con:testSuite><con:requirements/><con:properties/><con:wssContainer/><con:databaseConnectionContainer/><con:oAuth2ProfileContainer/><con:reporting><con:xmlTemplates/><con:parameters/></con:reporting><con:authRepository/></con:soapui-project>
